{"data":{"site":{"siteMetadata":{"title":"A Tech Blog","author":"Aidan Breen"}},"markdownRemark":{"id":"9b597348-8dbd-59de-8238-0692b3339b41","excerpt":"Of all the weird domain names I have bought over the years,  Table.Fish  is an unlikely late bloomer. Originally purchased to be the home of a restaurant table…","html":"<p>Of all the weird domain names I have bought over the years, <a href=\"https://www.table.fish\">Table.Fish</a> is an unlikely late bloomer. Originally purchased to be the home of a restaurant table booking app, it was quickly shelved and lay dormant for over a year. It’s now home to my newest passion project: a virtual table quiz platform.</p>\n<p>It’s a simple concept, the quizmaster hosts a live stream on youtube with the questions. Players can submit their answers through our app.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/796fe17faa75efea219b33ebac546cd3/06def/screens.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 52.68817204301075%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACmUlEQVQoz3WSX0hTURzH7+6Gc4l/FkimZlgU1IMJEvTgKNCgpAWBaBhJET0ERfkQ9JREVBKlNOkhJ2QZFcnm2so0t927uevd3dRURJdJOhVFM1yzqWX67dxzSaTowpdzfr8f53PP7/s7TMCai2Uvg7l2DSJulqxqLPAsYl4VYp7/aL3GYomc/e6Nx6xwCBHPFjDoYrDYwVJIlGMx71IDAQboIeraoO4N2hhLDFYlLb52X8SytFsBTrzVovdFAl1HbDqEHVoMW3UkjsOoXYvxN1p8ao7HR4uOatwRR2IdRkiOQj/IP1FhVVQRIEmELJsgPE5CoDERnFmP4eYEEuvB1+shNqSgs0FPFXyWTOqbyT4Z0tMk9DxPxNhrDUJNLGbb1FjzMwRI2vshqLDsk71hiY+kZVJYExjq7YqP1GWf3KQ1Qdn/9Cn58Pu98LjtsFibIbrMiLhYApQUH6hvQXLIr0aYP4DJjnxMCUQ+A6YFA1nzaW7MY8Akn0PPhN0H8eebmRzATKtGAcpXlSVDI3wimmxWONo4uDgeflGC5A9ClLrBcW60OH3wtFQDnQTI5SO2tEqBE58DmHOq/wJK8hNIQF97NaalBjjrr8F29zxWRiwI2W5iwn4bwZc1aK87S4FivRGxReWGY0Mh9Nft/PeGC7wWDtNJVF09jv25WThTkIZ5bwWul+5Cx8MSDNaWw19TAIgMvKYSRKO/KHB0cACNF4qUoVBJytubeqdCRlYKtmfoYcxLw60T6agtTsXRfanI2ZNOlI1yYzodXGtV2bqH/X29eHL5NJgvbfLIiVrJo3aqMPRKg7LCTFwq2oEbxdkwndqGSmMaKo5l4dzhTBTmbUXpkWR8czEwX8mFueo+zPfuwP7oAfymSvwG8m1WtuuJzVsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"TableFish Live stream and answer app\"\n        title=\"\"\n        src=\"/static/796fe17faa75efea219b33ebac546cd3/40fad/screens.png\"\n        srcset=\"/static/796fe17faa75efea219b33ebac546cd3/707e9/screens.png 148w,\n/static/796fe17faa75efea219b33ebac546cd3/649e0/screens.png 295w,\n/static/796fe17faa75efea219b33ebac546cd3/40fad/screens.png 590w,\n/static/796fe17faa75efea219b33ebac546cd3/b3fef/screens.png 885w,\n/static/796fe17faa75efea219b33ebac546cd3/301c0/screens.png 1180w,\n/static/796fe17faa75efea219b33ebac546cd3/b5a53/screens.png 1770w,\n/static/796fe17faa75efea219b33ebac546cd3/06def/screens.png 2232w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Table.fish is growing rapidly in a world where pandemic has shut down mass gatherings and public events. This is a story about how we have managed to build a platform in days that can handle hundreds of users simultaneously, let scorers mark over 10,000 answers in minutes, and most importantly, raise over €2,500 for charity.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/65cd4befbfbad3c872d576f34052c2f3/0f040/growth.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 61.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABu0lEQVQoz4VTi3KcMAzk/z+wl6ZJD44kB8fT2ICNbbaSgAxJO1PNCFmyjVYrOQkhQGsNM054LxrcshR5nqOuayzjCN21eDwqNORXdYPFDhh1J7G2bUhbrOuKQxL+mVJKHLd4WGtFp2mCdw52ninZKP5ISf3i4OxM61GU4wwqxiia8GdZFsmy0prlyBhPmQ+Rc3v88xzdW/fzgpBhs3jvZfOwR+azf+iXOP0oUFWBkH9BKJn+Yw8Vf91QBj0gqh6REiTMw8Hhd2R/WdoPO6JIMW8MfN+J5XJ5L2F03IRPLv6FjC5viEipKWFQCKpDMFp4jzuv0hRHnWSULEEuboj4YKCamOxAnxiIs0HDUzXRuq0pe6OiLJgKKpnRcWOOjfVsg8W6jIgDzVr7jmjuxEtP49TBzS3c1NJcKrI1jK6p0gmJIPMLnGoxd3dYU2FucsxVirG8QhcZuscbFCXtjUU/TOj1BGVmWhP/2og/2QWeSkk8lZe+/ET++gOXp2e8/M5wuZD9dcXTc4bso0J6+8Dt7Y5rmou93XKUZSEvquvo1ZQlBqKiKIod4T6Y3weW+Vwjd3jj9rDn7p+bx/4fdwGnuegqXecAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"TableFish Userbase and Contributions Growth\"\n        title=\"\"\n        src=\"/static/65cd4befbfbad3c872d576f34052c2f3/40fad/growth.png\"\n        srcset=\"/static/65cd4befbfbad3c872d576f34052c2f3/707e9/growth.png 148w,\n/static/65cd4befbfbad3c872d576f34052c2f3/649e0/growth.png 295w,\n/static/65cd4befbfbad3c872d576f34052c2f3/40fad/growth.png 590w,\n/static/65cd4befbfbad3c872d576f34052c2f3/b3fef/growth.png 885w,\n/static/65cd4befbfbad3c872d576f34052c2f3/301c0/growth.png 1180w,\n/static/65cd4befbfbad3c872d576f34052c2f3/0f040/growth.png 1200w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2>A long long time ago…</h2>\n<p>In mid march 2020, before the total lockdown we have now, when working from home was recommended Chris (my <a href=\"https://exante.io\">Exante</a> co-founder) invited me to join a virtual quiz. He wanted to host 10 teams, submitting answers over whatsapp and calculating scores in excel. Managing it was a nightmare. Sending in answers was a pain. It took him ages to score answers. But people still sent him ‘entry fees’, just like a real life table quiz. I thought we could do much better…</p>\n<p>By the following quiz, I had a firebase application up and running. It let you submit answers through a form, and it displayed them on an admin page with some buttons to mark each answer correct or incorrect. The scoreboard could then be displayed to each user, which updated as scores came in. I was happy.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/45ddb790330a54c78ac9e81e30f92e6d/1797e/screen1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 72.04678362573101%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADDUlEQVQ4yyWUSY/bRhSE+YeDHHPLKcgttwQ5BkFsx4iNBAEGSGAM4BmPZrRQoiju+9bcKVGUNPYcy0Xq0OhGk/xU71U9SZ6jQ18vEVkaEp7L0EGd+NiLAEMZ4VTFuHQC57bgfl1Dm6NvMjS5jzxxkAQ6LG0Bx9pC8m0d7m6NxNYQWzsUBEaeBxEG6Ak8cn3el7hMwBIvQ4sToSfedUWEOnVRxBZsTUZAQZIICDBV5L6FOvbQUN2B6kbQuc3wcqy55zhWGZUV2JcZ9jy3RUJYiIrfJK6G1DeRRS6k2DHgqvKkLuW5ijwCr8rOLOt5X+HMNXQVno8tLuPqGyrkXZOjyyMqdJEGFgTFSL6pwZDnLHsDT1MmpX0eY6gSnAgcYc9Dhy/nAz6fDtz303m8G6F9LSa1gtCciqXQNREYKjKP6lh+kwSo2McqcrBnjw4sr29Yap3jdGjwfOpwOe1x6lv0VN1VAmWeIol9iCy+muLIT4jkGRu7gAgMJJYKW1nCN7YIbQOliFFkbANNuZbcTvCePW35gxUrStk/wXck17MhfvsVxfff4Ls/v8XN/C0q14C1XcBWN4gdcyproKtHAgZCR4eHbjQoRVPEqESILLRZckCgrsB8uIV//z/k5Qc4xhxNZKDLHBoTMi40pstpDhfzeCHsfCjovODzFC0NLAlKA5OZpCkWS9M3M15oeMnZt9BEaq3hM1eZy6BHNuE+e+tO8C99OcHPbYqePW6yAAWfxZ5OYzxI2laG9c9r9H/8hLuHn7GQ3yPWllCf7mCu59gtHyFo2LlJGexRLZ1vE+YyQic85pAtY0Whs0VKMyVlvcD67e8IfvkB7/7+Ebef3qCwFRS+ipovNqmFA0dsqKMJ0pcMfuGhzWyqNxgzhtrdwdc3nDAL0np2j/vb/zBfzeAsnxAonEnlEd52jlCXOZLK9FHGj5rEmkB1bHJEeeepfK4iZBosdQV/HL3V7A4f/32H1V+v8OHmFR4ebqAtPkJ5vOWLK/5hKCz5CqxiZnWEMVrC202wgDBH20CnEJfT9hXMOuopMFs/WAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"The old scoring page\"\n        title=\"\"\n        src=\"/static/45ddb790330a54c78ac9e81e30f92e6d/40fad/screen1.png\"\n        srcset=\"/static/45ddb790330a54c78ac9e81e30f92e6d/707e9/screen1.png 148w,\n/static/45ddb790330a54c78ac9e81e30f92e6d/649e0/screen1.png 295w,\n/static/45ddb790330a54c78ac9e81e30f92e6d/40fad/screen1.png 590w,\n/static/45ddb790330a54c78ac9e81e30f92e6d/b3fef/screen1.png 885w,\n/static/45ddb790330a54c78ac9e81e30f92e6d/301c0/screen1.png 1180w,\n/static/45ddb790330a54c78ac9e81e30f92e6d/1797e/screen1.png 1710w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>(Yes, above image is a photo of a screen…It’s all I could find without spinning up an old version. You get the idea.)</p>\n<h2>3…2…1…</h2>\n<p>Next quiz (Friday, 20th March) we had a few more teams but were operating off a default cloudfront domain. Friends and family started to sign up. We had 28 teams in total. Assuming about 4 people on a team, that’s over a hundred people on the second outing! And our “pay what you want” model was working. Over €200 was contributed after the quiz.</p>\n<p>The ‘show’ went well. Some minor bugs. A couple teams accidentally submitting answers early. An easy fix with a confirmation dialog. A missing scoresheet. hmm. Ok, I’ll investigate.</p>\n<p>I spent a weekend on it and by the next quiz on Tuesday, we had a domain name, much nicer UX, better game controls for the quiz master and a little more functionality for scoring. It felt good to have real users on my system, but also terrifying to think about what would happen if it broke…</p>\n<h2>Double Trouble.</h2>\n<p>The next quiz blew us away. We had nearly twice the teams join us. Most of them we didn’t know. and with that growth came some growing pains.</p>\n<ol>\n<li>It turns out you can’t trust user input. Even if you think you’re being careful. One team managed to set their team name to ‘undefined’. It shouldn’t have been possible, but it happened. The result was our scoring page threw an error and completely crashed after the first round. Thankfully I was able to push a frantic update mid-quiz to handle the error.</li>\n<li>I thought I was out of the woods. Sadly not by a long shot. As soon as the scoring page came back, our scorers started experiencing massive lag. I had set up the paging slightly wrong. Each new score sheet appeared after the last, but didn’t replace it. Corrected score sheets were invisible to the scorer, but still in the DOM, taking up memory. Another live fix was necessary. This time, I only had the time to implement a crude drop down to let scorers skip ahead to a page in multiples of 10. Now they could proceed with frequent refreshes and at least keep up with the incoming answer sheets.</li>\n<li>My heart rate must have been over 200 at this stage. I had just returned to the living room where my wife and her family were doing the quiz. I sat down, opened a beer, ready to enjoy the second half of the quiz. Then it ALL went haywire.<br>\nThe answer sheets stopped loading for players. The admin panel stopped updating the game state. The scoring stopped updating. uhh…I ran back upstairs.<br>\nWe had hit the free usage limit on firebase. 80,000 database reads. I was kicking myself. Firstly, why didn’t I see this coming? Secondly, how could the system be making 80,000 reads? That’s madness!<br>\nThankfully the fix for this one simply involved a credit card.</li>\n</ol>\n<p>By the end of the show we had made 180,000 db reads. Something was up!</p>","frontmatter":{"title":"Table.Fish - Going Viral.","date":"April 05, 2020"}}},"pageContext":{"slug":"/table-fish-1/","previous":{"fields":{"slug":"/case-for-self-hosting/"},"frontmatter":{"title":"The Case for Self Hosting Your Blog"}},"next":null}}